Описание запросов, тип токена _cashiers_
================================

_ReportsGenerate_ - генерировать отчёт.
---------------------------------------
`/api/v2/reportsGenerate/token={token}`

### Описание
Возвращает ссылки на сгенерированный отчет (html, pdf, xls).
reportId и параметры для построения отчета передаются закодированными в JSON в BODY запроса.

В случае, если какой-либо из вариантов экспорта недоступен, этого варианта не будет в ответе.

### Параметры
| Параметр 	|        Описание       	| Обязателен 	|   Тип  	| Значение по умолчанию 	|
|:--------:	|:---------------------:	|:----------:	|:------:	|:---------------------:	|
|   token  	|         токен         	|     да     	| string 	|      отсутствует      	|
|   reportId    |   идентификатор отчета (в BODY)	|     да     	| int 	|      отсутствует      	|

### Доступные для кассиров отчеты
| Id 	|        Название       	| Требуемые параметры 	| Комментарий |
|:--------:	|:---------------------	|:----------:	| :-----: |
|   1  	| Сводный кассовый отчет за наличный расчет | ---   	| |
|   2  	| Сводный кассовый отчет за безналичный расчет | ---    	| |
|   3  	| Отчет по использованию бланков строгой отчетности | ---    	| |
|   4  	| Репертуар учреждения | Date, [YYYY-MM-DD]; isPerfState, [0,1] - статусы сеансов    	| |
|   5  	| Репертуар учреждения (по зрелищам) | Date, [YYYY-MM-DD]| |
|   6  	| Репертуар учреждения (по зрелищам и залам) | Date, [YYYY-MM-DD]| |
|   7  	| Репертуар учреждения (по времени) | Date, [YYYY-MM-DD]| |
|   8   | Сводный отчет по продажам за период | dateBegin, [YYYY-MM-DD]; dateEnd, [YYYY-MM-DD] |  без параметров - за сегодня |
|   9   | Выручка кинотеатра за день | dateBegin, [YYYY-MM-DD]; dateEnd, [YYYY-MM-DD] |  без параметров - за сегодня |
|  10   | Кассовый отчет (расширенный) | --- | |
|  11   | Отчет по непогашенным билетам, купленным онлайн | --- | |
|  12   | Кассовый отчет по бонусам | --- | |
|  13   | Кассовый отчет по продажам онлайн | --- | |
|  14   | Подробный кассовый отчет (расширенный) + товары | --- | |
|  15   | Сводный отчет по предоставленным скидкам за период | dateBegin, [YYYY-MM-DD]; dateEnd, [YYYY-MM-DD] | без параметров - за сегодня |
|  16   | Сводный отчет по предоставленным скидкам за период с разбивкой по кассирам | dateBegin, [YYYY-MM-DD]; dateEnd, [YYYY-MM-DD] | без параметров - за сегодня |
|  17   | Сводный отчет по продаже товаров за период с разбивкой по кассирам | dateBegin, [YYYY-MM-DD]; dateEnd, [YYYY-MM-DD] | без параметров - за сегодня |

### Пример запроса
`/api/v2/reportsGenerate/?token={token}`

***BODY***
```
{"reportId": 3}
```

### Пример ответа
```
{
  "code": 0,
  "message": "OK",
  "data": {
    "urls": {
      "html": "files/reports/14769519816179.html",
      "xls": "files/reports/14769519816179.xls",
      "pdf": "files/reports/14769519816179.pdf"
    }
  }
}
```

* [Содержание](../index)